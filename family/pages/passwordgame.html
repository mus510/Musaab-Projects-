<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة كلمة السر العائلية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4F46E5;
            --secondary: #10B981;
            --accent: #F59E0B;
            --light: #F9FAFB;
            --dark: #1F2937;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: var(--dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .game-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 30px;
            width: 100%;
            max-width: 600px;
            text-align: center;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .hint {
            background: var(--light);
            padding: 10px 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 1.1rem;
        }
        
        .word-display {
            font-size: 2rem;
            letter-spacing: 10px;
            margin: 25px 0;
            font-weight: bold;
            min-height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .guesses {
            margin: 20px 0;
            font-size: 1.1rem;
        }
        
        .keyboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .key {
            padding: 12px;
            background: var(--light);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .key:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        .key.used {
            background: var(--dark);
            color: white;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .game-result {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 20px 0;
            min-height: 40px;
        }
        
        .win {
            color: var(--secondary);
        }
        
        .lose {
            color: #EF4444;
        }
        
        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            font-weight: bold;
        }
        
        .btn:hover {
            background: #D97706;
            transform: translateY(-2px);
        }
        
        .hangman-display {
            margin: 20px 0;
            font-size: 2rem;
        }
        
        @media (max-width: 768px) {
            .keyboard {
                grid-template-columns: repeat(7, 1fr);
            }
            
            .key {
                padding: 10px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1><i class="fas fa-puzzle-piece"></i> لعبة كلمة السر العائلية</h1>
        <p>اختبر معرفتك مع لعبة الألغاز الأسرية الممتعة! حاول تخمين الكلمة قبل نفاذ الوقت.</p>
        
        <div class="hint">التلميح: <span id="hint-text">حدث عائلي</span></div>
        
        <div class="hangman-display" id="hangman-display">❤️❤️❤️❤️❤️❤️</div>
        
        <div class="word-display" id="word-display">_ _ _ _ _</div>
        
        <div class="guesses">المحاولات المتبقية: <span id="guesses-left">6</span></div>
        
        <div class="game-result" id="game-result"></div>
        
        <div class="keyboard" id="keyboard"></div>
        
        <button class="btn" id="restart-btn"><i class="fas fa-redo"></i> لعب مرة أخرى</button>
    </div>

    <script>
        // الكلمات والتلميحات
        const wordList = [
            { word: "سفرة", hint: "وجبة عائلية" },
            { word: "عرس", hint: "مناسبة سعيدة" },
            { word: "سفر", hint: "رحلة عائلية" },
            { word: "بيت", hint: "مكان تجمع العائلة" },
            { word: "حب", hint: "رابط العائلة" },
            { word: "هدية", hint: "ما يقدم في المناسبات" },
            { word: "مولد", hint: "احتفال ديني" },
            { word: "صيأم", hint: "ركن من أركان الإسلام" },
            { word: "قرأن", hint: "كتاب الله تعالى" },
            { word: "تراويح", hint: "صلاة خاصة برمضان" }
        ];
        
        // عناصر DOM
        const wordDisplay = document.getElementById("word-display");
        const hintText = document.getElementById("hint-text");
        const guessesLeft = document.getElementById("guesses-left");
        const keyboard = document.getElementById("keyboard");
        const gameResult = document.getElementById("game-result");
        const restartBtn = document.getElementById("restart-btn");
        const hangmanDisplay = document.getElementById("hangman-display");
        
        // متغيرات اللعبة
        let currentWord = "";
        let guessedLetters = [];
        let remainingGuesses = 6;
        let gameActive = true;
        
        // تهيئة اللعبة
        function initGame() {
            // اختيار كلمة عشوائية
            const randomWord = wordList[Math.floor(Math.random() * wordList.length)];
            currentWord = randomWord.word;
            hintText.textContent = randomWord.hint;
            
            // إعادة تعيين المتغيرات
            guessedLetters = [];
            remainingGuesses = 6;
            gameActive = true;
            
            // تحديث العرض
            updateWordDisplay();
            updateGuessesDisplay();
            gameResult.textContent = "";
            gameResult.className = "game-result";
            
            // إنشاء لوحة المفاتيح
            createKeyboard();
        }
        
        // إنشاء لوحة المفاتيح العربية
        function createKeyboard() {
            keyboard.innerHTML = "";
            const arabicLetters = "أبتثجحخدذرزسشصضطظعغفقكلمنهوي";
            
            for (let letter of arabicLetters) {
                const key = document.createElement("button");
                key.className = "key";
                key.textContent = letter;
                key.dataset.letter = letter;
                key.addEventListener("click", () => handleGuess(letter));
                keyboard.appendChild(key);
            }
        }
        
        // تحديث عرض الكلمة
        function updateWordDisplay() {
            const display = currentWord.split("").map(letter => 
                guessedLetters.includes(letter) ? letter : "_"
            ).join(" ");
            
            wordDisplay.textContent = display;
            
            // التحقق من الفوز
            if (!display.includes("_")) {
                endGame(true);
            }
        }
        
        // تحديث عدد المحاولات
        function updateGuessesDisplay() {
            guessesLeft.textContent = remainingGuesses;
            
            // تحديث صورة الرجل المشنوق (قلوب)
            const hearts = "❤️".repeat(remainingGuesses);
            hangmanDisplay.textContent = hearts;
        }
        
        // معالجة التخمين
        function handleGuess(letter) {
            if (!gameActive) return;
            
            const key = document.querySelector(`.key[data-letter="${letter}"]`);
            
            // إذا كانت الحرف قد تم تخمينه مسبقاً
            if (guessedLetters.includes(letter) || key.classList.contains("used")) {
                return;
            }
            
            // تعليم الحرف على أنه مستخدم
            key.classList.add("used");
            guessedLetters.push(letter);
            
            // إذا كانت الحرف غير موجود في الكلمة
            if (!currentWord.includes(letter)) {
                remainingGuesses--;
                updateGuessesDisplay();
                
                // التحقق من الخسارة
                if (remainingGuesses === 0) {
                    endGame(false);
                }
            } else {
                updateWordDisplay();
            }
        }
        
        // إنهاء اللعبة
        function endGame(isWin) {
            gameActive = false;
            
            if (isWin) {
                gameResult.textContent = `مبروك! لقد فزت! الكلمة هي: ${currentWord}`;
                gameResult.classList.add("win");
            } else {
                gameResult.textContent = `انتهت المحاولات! الكلمة كانت: ${currentWord}`;
                gameResult.classList.add("lose");
            }
        }
        
        // إعادة تشغيل اللعبة
        restartBtn.addEventListener("click", initGame);
        
        // بدء اللعبة عند تحميل الصفحة
        document.addEventListener("DOMContentLoaded", initGame);
        
        // إضافة إمكانية الكتابة من لوحة المفاتيح
        document.addEventListener("keydown", (e) => {
            if (!gameActive) return;
            
            const key = e.key;
            const arabicLetters = "أبتثجحخدذرزسشصضطظعغفقكلمنهوي";
            
            if (arabicLetters.includes(key)) {
                const keyElement = document.querySelector(`.key[data-letter="${key}"]`);
                if (keyElement && !keyElement.classList.contains("used")) {
                    keyElement.click();
                }
            }
        });
    </script>
</body>
</html>